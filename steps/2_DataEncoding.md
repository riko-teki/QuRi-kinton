# データの符号化

# コンテンツ
1. 誤り訂正レベルの選択
データをエンコードする前に誤り訂正レベルを選択する。
導入で述べたように、QRコードは***リードソロモン誤り訂正符号***を使用する。
このプロセスではエンコードされたエータを基に誤り訂正符号を生成する。
QRコードリーダーはこれらの誤り訂正符号を使用して、データを正確に読み取れなかったことを判断することができる。
また誤り訂正符号を用いてこれらの誤りを訂正することができる。
誤り訂正にはL、M、Q、Hの4つのレベルが存在する。

|誤り訂正レベル|誤り訂正能力|
|---|---|
|L|7%までの誤りを訂正可能|
|M|15%までの誤りを訂正可能|
|Q|25%までの誤りを訂正可能|
|H|30%までの誤りを訂正可能|

高い誤り訂正レベルはより多くのデータ容量を要求するため、
QRコード自体も大きくなることに注意が必要。

2. データの最小バージョンを決定する
QRコードのサイズの違いは***バージョン***と呼ばれ、利用可能な40のバージョンが存在する。
最小バージョンはバージョン1で21x21ピクセル、
バージョン2は25x25ピクセル、
最大バージョンのバージョン40は177x177ピクセルと、ピクセルサイズが前のバージョンより4大きくなる。

各バージョンはそれぞれ最大容量があり、最大容量は使用するモードに依存する。
加えて誤り訂正レベルによってさらに制限される。
ここに全てのバージョン、誤り訂正レベルのQRコード最大容量を記載する。

  1. 最小バージョンの決定方法
  2. 上限
3. モードインジケータの追加
4. 文字カウントインジケータの追加
  1. バージョン1から9
  2. バージョン10から26
  3. バージョン27から40
5. 選択したモードを使用した符号化
6. 8bitのコードワードに分割し、必要に応じてパッドバイトを追加する
  1. QRコードの必要ビット数を決定する
  2. 必要に応じて0ターミネーターを追加する
  3. 長さを8の倍数にするために0を追加する
  4. 文字列がまだ短すぎる場合、パッドバイトを追加する
7. 次のステップ
