# 誤り訂正コーディング
誤り訂正符号はQRコードリーダーがQRコードのエラーを検知し訂正することを可能にする。
このページではデータをエンコードした後の誤り訂正符号の生成方法を説明する。

## コンテンツ
1. 必要であればデータ符号をブロックに分割する。
2. 多項式除算を理解する。
3. ガロア体を理解する。
4. ガロア体の演算を理解する。
5. バイト単位で0b100011101とのモジュロ(剰余演算)をとり、2の累乗を生成する。 
6. 対数と逆対数による乗算を理解する。
7. 生成多項式を理解する。
    - 2つの誤り訂正符号の生成多項式
    - 3つの誤り訂正符号の生成多項式
    - 指数が256以上だった場合
    - その他の生成多項式
8. 誤り訂正符号の生成
    - メッセージ多項式
    - 生成多項式
    - 除算ステップ
9. メッセージ多項式を生成多項式によって除算する。
    1. 生成多項式にメッセージ多項式の最高次の項を乗算する。
    2. 1の結果とメッセージ多項式の排他的論理和を計算する。
    3. 生成多項式と前ステップで計算した排他的論理和の最高次の項を乗算する。
    4. 前ステップの結果と前前ステップの結果の排他的論理和を計算する。
    5. 3~4の手順をメッセージ多項式の項数-1回繰り返す。
    6. 余りを誤り訂正符号として使用する。
10. 次のステップ

## 1. 必要であればデータ符号をブロックに分割する。
誤り訂正符号を生成する前にQRコードのバージョンが3以上の場合、データ符号を小さいブロックに分割する必要がある可能性がある。<br>
例として5-QのQRコードを生成する場合、誤り訂正テーブルによると5-QのQRコードには62のデータ符号がある。(8bitのビット文字列)<br>
誤り訂正テーブルには***group1***と***group2***、***ブロック数***が記載されている。これはデータ符号が最大2つのグループに分割され、各グループ内でブロックに分割されなければならないことを意味している。<br>
データ符号は順序に沿って分割される。(最初に符号の1番目、次に２番目のように)

5-QのQRコードには２つのグループがあり最初のグループは２つのブロックに分割され、それぞれのブロックには15個のデータ符号が含まれていなければならない。また、２つ目のグループは２つのブロックがあり、それぞれ16個のデータ符号が含まれていなければならない。

15 + 15 + 16 + 16 = 62となり、5-QのQRコードに含まれるデータ符号の数と等しくなる。

誤り訂正テーブルは5-QのQRコードにはブロックあたり18の誤り訂正符号が含まれる事も記載している。上の例だと、計4つのブロックがあるので誤り訂正符号の数は4 * 18 = 72になる。

小さいQRコードではデータ符号を分割する事を要求されない。<br>
1-MのQRコードでは16のデータ符号が含まれるが1つのブロックを使用しており、生成する必要がある誤り訂正符号の数も10のみである。

5-QのQRコードで次に進む前にリードソロモン誤り訂正の基本的な手順を説明する。

